{"version":3,"sources":["views/ReviewsPage/Reviews.module.css","img/defRew.jpg","views/ReviewsPage/ReviewsPage.js"],"names":["module","exports","ReviewsPage","movieId","useState","reviews","setReviews","isLoading","setLoading","useEffect","fetchData","a","fetchReviews","results","console","log","LoaderContainer","length","className","s","list","map","e","item","src","author_details","avatar_path","includes","def","ImgUrl","alt","author","width","auth","content","id","empty"],"mappings":"6HACAA,EAAOC,QAAU,CAAC,KAAO,sBAAsB,KAAO,sBAAsB,MAAQ,uBAAuB,KAAO,sBAAsB,QAAU,2B,8HCDnI,MAA0B,mC,OC6D1BC,UArDf,YAAmC,IAAZC,EAAW,EAAXA,QACrB,EAA8BC,mBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAgCF,oBAAS,GAAzC,mBAAOG,EAAP,KAAkBC,EAAlB,KACAC,qBAAU,WACRC,MAEC,IAGH,IAAMA,EAAS,uCAAG,8BAAAC,EAAA,6DAChBH,GAAW,GADK,kBAIYI,YAAaT,GAJzB,gBAINU,EAJM,EAINA,QAERP,EAAWO,GANG,gDAQdC,QAAQC,IAAI,QAAZ,MARc,yBAUdP,GAAW,GAVG,4EAAH,qDAcf,OACE,qCACGD,GAAa,cAACS,EAAA,EAAD,IACM,IAAnBX,EAAQY,OACP,oBAAIC,UAAWC,IAAEC,KAAjB,SACGf,EAAQgB,KAAI,SAAAC,GAAC,OACZ,qBAAIJ,UAAWC,IAAEI,KAAjB,UACE,gCACE,qBACEC,IACmC,OAAjCF,EAAEG,eAAeC,aACjBJ,EAAEG,eAAeC,YAAYC,SAAS,YAClCC,EAFJ,UAGOC,KAHP,OAGgBP,EAAEG,eAAeC,aAEnCI,IAAKR,EAAES,OACPC,MAAO,MAET,mBAAGd,UAAWC,IAAEc,KAAhB,SAAuBX,EAAES,YAE3B,mBAAGb,UAAWC,IAAEe,QAAhB,SAA0BZ,EAAEY,YAdFZ,EAAEa,SAmBlC,mBAAGjB,UAAWC,IAAEiB,MAAhB","file":"static/js/8.f6f0a621.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"Reviews_list__672Ki\",\"item\":\"Reviews_item__xUG7W\",\"empty\":\"Reviews_empty__3dZMA\",\"auth\":\"Reviews_auth__3Wk2M\",\"content\":\"Reviews_content__D4aUg\"};","export default __webpack_public_path__ + \"static/media/defRew.ab3cd2ff.jpg\";","import { useState, useEffect } from 'react';\r\nimport s from './Reviews.module.css';\r\nimport { fetchReviews } from '../../service/movieDb';\r\nimport LoaderContainer from '../../components/LoaderContainer/LoaderContainer';\r\nimport ImgUrl from '../../components/ImgUrl/ImgUlr';\r\nimport def from '../../img/defRew.jpg';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction ReviewsPage({ movieId }) {\r\n  const [reviews, setReviews] = useState([]);\r\n  const [isLoading, setLoading] = useState(false);\r\n  useEffect(() => {\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  const fetchData = async () => {\r\n    setLoading(true);\r\n\r\n    try {\r\n      const { results } = await fetchReviews(movieId);\r\n\r\n      setReviews(results);\r\n    } catch (error) {\r\n      console.log('Error', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {isLoading && <LoaderContainer />}\r\n      {reviews.length !== 0 ? (\r\n        <ul className={s.list}>\r\n          {reviews.map(e => (\r\n            <li className={s.item} key={e.id}>\r\n              <div>\r\n                <img\r\n                  src={\r\n                    e.author_details.avatar_path === null ||\r\n                    e.author_details.avatar_path.includes('gravatar')\r\n                      ? def\r\n                      : `${ImgUrl}${e.author_details.avatar_path}`\r\n                  }\r\n                  alt={e.author}\r\n                  width={100}\r\n                />\r\n                <p className={s.auth}>{e.author}</p>\r\n              </div>\r\n              <p className={s.content}>{e.content}</p>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      ) : (\r\n        <p className={s.empty}>It's empty here</p>\r\n      )}\r\n    </>\r\n  );\r\n}\r\nexport default ReviewsPage;\r\nReviewsPage.propTypes = {\r\n  movieId: PropTypes.string.isRequired,\r\n};\r\n"],"sourceRoot":""}