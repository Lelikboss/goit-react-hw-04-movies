{"version":3,"sources":["components/MovieDetails/MovieDetails.module.css","components/MovieDetailsNav/MovieDetailsNav.module.css","components/MovieDetails/MovieDetails.js","components/MovieDetailsNav/MovieDetailsNav.js","components/ButtonBack/ButtonBack.js","views/MovieDetailsPage/MovieDetailsPage.js","service/movieDb.js","components/ImgUrl/ImgUlr.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"names":["module","exports","MovieDetails","movieInfo","className","s","mainWrapper","img","src","ImgUrl","poster_path","alt","original_title","width","wrapper","title","release_date","substring","vote_average","secondaryTitle","overview","list","genres","map","e","item","name","MovieDetailsNav","url","location","to","pathname","state","activeClassName","ButtonBack","handleBackClick","type","onClick","label","CastPage","lazy","ReviewsPage","MoviesDetailsPage","history","useHistory","useLocation","useState","setMovieInfo","movieId","useParams","useRouteMatch","useEffect","data","a","fetchDetailsPage","result","console","log","push","from","path","axios","defaults","baseURL","myApiKey","fetchTrend","get","results","id","findMovies","searchQuery","fetchCast","fetchReviews","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties"],"mappings":"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","file":"static/js/movies-details-page.86ceb7f2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWrapper\":\"MovieDetails_mainWrapper__2ZIHu\",\"wrapper\":\"MovieDetails_wrapper__1MJs0\",\"title\":\"MovieDetails_title__2t2hT\",\"secondaryTitle\":\"MovieDetails_secondaryTitle__37Uei\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"MovieDetailsNav_title__-AJpo\",\"list\":\"MovieDetailsNav_list__24uOu\",\"item\":\"MovieDetailsNav_item__kD5uC\"};","import s from './MovieDetails.module.css';\r\nimport ImgUrl from '../ImgUrl/ImgUlr';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction MovieDetails({ movieInfo }) {\r\n  return (\r\n    <div className={s.mainWrapper}>\r\n      <img\r\n        className={s.img}\r\n        src={`${ImgUrl}${movieInfo.poster_path}`}\r\n        alt={movieInfo.original_title}\r\n        width={300}\r\n      />\r\n      <div className={s.wrapper}>\r\n        <h1 className={s.title}>\r\n          {movieInfo.original_title} ({movieInfo.release_date.substring(0, 4)})\r\n        </h1>\r\n        <h4>User score: {movieInfo.vote_average * 10}%</h4>\r\n        <h3 className={s.secondaryTitle}>Overview</h3>\r\n        <p className={s.overview}>{movieInfo.overview}</p>\r\n        <h3 className={s.secondaryTitle}>Genres</h3>\r\n        <ul className={s.list}>\r\n          {movieInfo.genres.map(e => (\r\n            <li className={s.item} key={e.name}>\r\n              {e.name}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default MovieDetails;\r\nMovieDetails.propTypes = {\r\n  movieInfo: PropTypes.object.isRequired,\r\n};\r\n","import { NavLink } from 'react-router-dom';\r\nimport s from './MovieDetailsNav.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction MovieDetailsNav({ url, location }) {\r\n  return (\r\n    <>\r\n      <h2 className={s.title}>Additional information</h2>\r\n      <ul className={s.list}>\r\n        <li className={s.item}>\r\n          <NavLink\r\n            to={{\r\n              pathname: `${url}/cast`,\r\n              state: { ...location.state },\r\n            }}\r\n            className=\"navLink\"\r\n            activeClassName=\"activeNavLink\"\r\n          >\r\n            Cast\r\n          </NavLink>\r\n        </li>\r\n        <li className={s.item}>\r\n          <NavLink\r\n            to={{\r\n              pathname: `${url}/reviews`,\r\n              state: { ...location.state },\r\n            }}\r\n            className=\"navLink\"\r\n            activeClassName=\"activeNavLink\"\r\n          >\r\n            Reviews\r\n          </NavLink>\r\n        </li>\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\nexport default MovieDetailsNav;\r\nMovieDetailsNav.propTypes = {\r\n  url: PropTypes.string.isRequired,\r\n  location: PropTypes.object.isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\n\r\nfunction ButtonBack({ handleBackClick, location }) {\r\n  return (\r\n    <>\r\n      <button type=\"button\" onClick={handleBackClick}>\r\n        {location?.state?.label ?? 'Go back'}\r\n      </button>\r\n    </>\r\n  );\r\n}\r\nexport default ButtonBack;\r\nButtonBack.propTypes = {\r\n  handleBackClick: PropTypes.func.isRequired,\r\n  location: PropTypes.object.isRequired,\r\n};\r\n","import { useState, useEffect, lazy } from 'react';\r\nimport { Route, useRouteMatch } from 'react-router-dom';\r\nimport { useHistory, useLocation, useParams } from 'react-router';\r\n\r\nimport { fetchDetailsPage } from '../../service/movieDb';\r\n\r\nimport MovieDetails from '../../components/MovieDetails/MovieDetails';\r\nimport MovieDetailsNav from '../../components/MovieDetailsNav/MovieDetailsNav';\r\nimport ButtonBack from '../../components/ButtonBack/ButtonBack';\r\n\r\nconst CastPage = lazy(() => import('../Cast/Cast'));\r\nconst ReviewsPage = lazy(() => import('../ReviewsPage/ReviewsPage'));\r\n\r\nfunction MoviesDetailsPage() {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const [movieInfo, setMovieInfo] = useState(null);\r\n  const { movieId } = useParams();\r\n  const { url } = useRouteMatch();\r\n\r\n  const handleBackClick = () => history.push(location?.state?.from ?? '/');\r\n\r\n  useEffect(() => {\r\n    data();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  const data = async () => {\r\n    try {\r\n      const result = await fetchDetailsPage(movieId);\r\n      setMovieInfo(result);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <ButtonBack handleBackClick={handleBackClick} location={location} />\r\n      {movieInfo && (\r\n        <div>\r\n          <MovieDetails movieInfo={movieInfo} />\r\n          <MovieDetailsNav url={url} location={location} />\r\n\r\n          <Route path={`${url}/cast`}>\r\n            {movieInfo && <CastPage movieId={movieId} />}\r\n          </Route>\r\n          <Route path={`${url}/reviews`}>\r\n            {movieInfo && <ReviewsPage movieId={movieId} />}\r\n          </Route>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\nexport default MoviesDetailsPage;\r\n","import axios from 'axios';\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\r\nconst myApiKey = '6aca5fd1f6430f3a2dc19eecc3571e5f';\r\nexport const fetchTrend = async () => {\r\n  try {\r\n    const { data } = await axios.get(`trending/movie/day?api_key=${myApiKey}`);\r\n    const results = data.results;\r\n    return results;\r\n  } catch (error) {\r\n    console.log('Error', error);\r\n  }\r\n};\r\nexport const fetchDetailsPage = async id => {\r\n  try {\r\n    const { data } = await axios.get(\r\n      `/movie/${id}?api_key=${myApiKey}&language=en-US`,\r\n    );\r\n    return data;\r\n  } catch (error) {\r\n    console.log('Error', error);\r\n  }\r\n};\r\n\r\nexport const findMovies = async searchQuery => {\r\n  try {\r\n    const { data } = await axios.get(\r\n      `search/movie?api_key=${myApiKey}&query=${searchQuery}&language=en-US`,\r\n    );\r\n\r\n    const results = data.results;\r\n\r\n    return results;\r\n  } catch (error) {\r\n    console.log('Error', error);\r\n  }\r\n};\r\nexport const fetchCast = async id => {\r\n  try {\r\n    const { data } = await axios.get(\r\n      `/movie/${id}/credits?api_key=90c365fd33e40d9888dd0e4d3c3072e6`,\r\n    );\r\n\r\n    return data;\r\n  } catch (error) {\r\n    console.log('error', error);\r\n  }\r\n};\r\nexport const fetchReviews = async id => {\r\n  try {\r\n    const { data } = await axios.get(\r\n      `/movie/${id}/reviews?api_key=90c365fd33e40d9888dd0e4d3c3072e6&language=en-US&page=1`,\r\n    );\r\n\r\n    return data;\r\n  } catch (error) {\r\n    console.log('error', error);\r\n  }\r\n};\r\n","const ImgUrl = 'https://image.tmdb.org/t/p/w500';\r\nexport default ImgUrl;\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}"],"sourceRoot":""}